# PaymentWrap - 支付通道转换器



## 分支管理

该项目主要有`master`,`develop`,`release-*`等分支，其职责做如下约定：

- **master分支**：做为创世分支，和必要的稳定版本打标签
- **develop分支**：日常主逻辑的微调优化，如有较大功能开发时，仍需切出`feature-*`的临时分支
- **release分支**：针对每个三方通道的对接而切出来的分支，很重要的是这些通道分支都需要**长期保留**，以备后续相同通道的复用

`release-*`分支与`develop`分支的代码区别主要是：
- `develop`是完整稳定的主逻辑代码，是一套框架，它与具体某个通道的配置无关
- `release-*`是基于`develop`的代码框架，填入与通道相关的配置、参数映射等信息
- `release-*`分支后缀取通道名，并与通道一一对应，确保相同通道可以复用该分支的代码，注意：不要将商户信息提交到分支内（如商户ID、KEY等信息）


所以，正常`release-*`分支中的提交log基本只有`chore: `，而`develop`分支中的提交主要为`feat: `和`fix: `等。


## 交付流程

开发负责支付通道的对接，从`develop`分支切出新的`release-*`分支，配置通道信息、参数映射、测试ID等，并在测试环境验证可用。

开发对接完成后，由运维将该`release-*`分支部署到服务器，并配置商户ID和KEY，然后上线交付。